## ■実装必要タスク洗い出し

### ①FileAPIでcanvasに画像描画
* 印刷範囲外も見えるようにする？出来る？出来たとしても弊害はないか？
  * canvasタグの下にimgタグ重ねてabsolute？
  * canvasタグ2つ重ねる？
  * その際に2つの要素に同じイベント処理をする必要性
* ファイル形式制御
  * gif/jpg/jpeg/png/svg
  * エラー時の表示
* ファイル容量制御
  * 上限のバイト数
  * エラー時の表示
* 初回表示画像サイズ制御　※大きすぎる場合
  * アップロード後の初回描画時の最大幅を決めたい　→　初回が大きすぎるとユーザー・製作者共々に弊害が大きい
* アップロード画像の削除機能

### ②ピンチで拡大縮小
* 解像度検知
  * 元サイズ / 現サイズ が1を下回るかつ以下の判定条件？
  * 想定元画像画素の72dpi・印刷に必要な300dpi・印刷範囲の寸法などから算出？
* PC時のイベント処理
  * マウスウィール？
  * レンチ？

### ③ドラッグ・タッチムーブで移動
* デバイスでイベント分ける
  * addEventListener関数には複数のイベントタイプにまとめて同じイベントハンドラ関数を設定する方法はない -> どちらにしても2回呼び出す必要性はありそう
* 編集中の倍率を保持して移動

### ④レンチで回転
* input type=rangeのcssスタイリングはゼロベースだと結構工数がかかる
  * Uikit使用？　※どちらにしても参照はする必要がある
* 画像アップロードまでdisabled
* 画像削除後も再びdisabled

### ⑤プレビュー時にクリッピングマスク？
* 印刷範囲内外の区切りを明確にする
  * 切り取ったイメージをサンプル画像とする

### ⑥保存・送信時に必要データを渡す
* store(Local storage)
  1. ユーザーID(遷移元によるがある場合)
  2. 選択ケース(デバイス機種)情報
  3. 元画像
  4. サンプル画像
  5. 縮尺比(元画像との)
  6. xy座標
  7. 角度
* store(Local strage)保存情報の削除
  * 保存・送信時に削除が望ましいと想定
* axios
  * DBにはkeyとvalueの連想配列で渡す想定
  * 非同期通信で送信

### ⑦保存一覧からの再起
* api
  * ⑥storeの1～7に加えて商品ID的な識別子が必要？　※保存時にバックエンド側で生成する
  * 上記をカスタマイズ画面遷移時にセット(関数実行・描画)
  * 再保存した場合のDB保存先 ※上書き or 新規？

### ■Javascript使用メソッド一覧
#### □canvas
* setTransform(a, b, c, d, e, f)
* drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh)



http://matz.hatenablog.jp/entry/2017/03/26/014615